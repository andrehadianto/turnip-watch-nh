(this["webpackJsonpturnip-watch-nh"]=this["webpackJsonpturnip-watch-nh"]||[]).push([[0],{332:function(e,a,t){e.exports=t(640)},517:function(e,a,t){},518:function(e,a,t){},583:function(e,a,t){},584:function(e,a,t){},607:function(e,a,t){},608:function(e,a,t){},630:function(e,a,t){},631:function(e,a,t){},632:function(e,a,t){},635:function(e,a,t){},640:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(6),l=t.n(c),i=t(24),o=t(25),u=t(23),m=t(15),d=t.n(m),s=(t(517),Object(i.b)((function(e){return{priceChart:e.priceChart,buyPrice:e.buyPrice,dateFilter:e.dateFilter}}))((function(e){var a=e.priceChart,t=e.buyPrice,c=e.dateFilter,l=Object(r.useState)([]),i=Object(o.a)(l,2),m=i[0],s=i[1];return Object(r.useEffect)((function(){for(var e=[],r=1;r<7;r++)e.push(d()(c,"YYYY-MM-DD").add(r,"day").format("YYYY-MM-DD"));var n=t[c],l=[];e.forEach((function(e){e in a?a[e][0]&&a[e][1]?(l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),price:a[e][0],buy:n}),l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),price:a[e][1],buy:n})):a[e][0]&&!a[e][1]?(l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),price:a[e][0],buy:n}),l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),buy:n})):a[e][1]&&!a[e][0]&&(l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),buy:n}),l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),price:a[e][1],buy:n})):(l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),buy:n}),l.push({date:d()(e,"YYYY-MM-DD").format("MM-DD"),buy:n}))})),s(l)}),[a,t,c]),n.a.createElement(u.h,{minWidth:375,minHeight:480},n.a.createElement(u.f,{width:600,height:300,data:m,margin:{top:5,right:20,bottom:5,left:0}},n.a.createElement(u.e,{type:"linear",dataKey:"price",stroke:"#ff4757",strokeWidth:1}),n.a.createElement(u.e,{type:"stepAfter",dataKey:"buy",stroke:"#2ed573",strokeWidth:1}),n.a.createElement(u.c,{stroke:"#ccc",strokeDasharray:"5 5"}),n.a.createElement(u.j,{dataKey:"date",dy:10,interval:"preserveStart"}),n.a.createElement(u.k,{domain:[function(e){return Math.round(.9*e)},function(e){return Math.round(1.1*e)}]}),n.a.createElement(u.i,null)))}))),p=t(646),y=t(105),E=t(41),f=t(643),b=t(649),h=t(151),Y=t(27),D=(t(518),Object(i.b)((function(e){return{dispatch:e}}))((function(e){var a=e.dispatch,t=p.a.useForm(),r=Object(o.a)(t,1)[0];return n.a.createElement(p.a,{form:r,name:"price-form",onFinish:function(e){var t=e["date-picker"].format("YYYY-MM-DD"),r=e["day-noon-radio"],n=e["price-input"];a({type:"ADD_PRICE",payload:{date:t,dayNoon:r,price:n}})}},n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"date-picker",rule:[{required:!0}]},n.a.createElement(f.a,{style:{width:"100%"}})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"price-input"},n.a.createElement(b.a,{placeholder:"Nook's Cranny Turnip price",style:{width:"100%"},min:0})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"day-noon-radio"},n.a.createElement(h.a.Group,{defaultValue:"morning",buttonStyle:"outline"},n.a.createElement(h.a,{value:"morning"},"Before 12"),n.a.createElement(h.a,{value:"afternoon"},"After 12"))))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,null,n.a.createElement(Y.a,{block:!0,type:"primary",htmlType:"submit"},"Add")))))}))),g=(t(583),Object(i.b)((function(e){return{dispatch:e}}))((function(e){var a=e.dispatch,t=p.a.useForm(),r=Object(o.a)(t,1)[0];return n.a.createElement(p.a,{form:r,name:"price-form",onFinish:function(e){var t=e["date-picker"].startOf("week").format("YYYY-MM-DD"),r=e["buy-price"];a({type:"ADD_BUY_PRICE",payload:{date:t,buyingPrice:r}})}},n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"date-picker",rule:[{required:!0}]},n.a.createElement(f.a,{picker:"week",style:{width:"100%"}})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"buy-price",rule:[{required:!0}]},n.a.createElement(b.a,{placeholder:"Turnip price when bought",style:{width:"100%"},min:0})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,null,n.a.createElement(Y.a,{block:!0,type:"primary",htmlType:"submit"},"Add")))))}))),M=t(642),O=(t(584),Object(i.b)((function(e){return{priceChart:e.priceChart,buyPrice:e.buyPrice,dateFilter:e.dateFilter}}))((function(e){var a=e.priceChart,t=e.buyPrice,c=e.dateFilter,l=Object(r.useState)([]),i=Object(o.a)(l,2),u=i[0],m=i[1],s=Object(r.useState)(!0),p=Object(o.a)(s,2),y=p[0],E=p[1];Object(r.useEffect)((function(){E(!0);for(var e=[],r=1;r<7;r++)e.push(d()(c,"YYYY-MM-DD").add(r,"day").format("YYYY-MM-DD"));var n=t[c]?t[c]:"-",l=[];e.forEach((function(e,t){var r=d()(e,"YYYY-MM-DD").format("dddd");e in a?a[e][0]&&a[e][1]?l.push({key:t,week:r,day:a[e][0],afternoon:a[e][1],buy:n}):a[e][0]&&!a[e][1]?l.push({key:t,week:r,day:a[e][0],afternoon:"-",buy:n}):a[e][1]&&!a[e][0]&&l.push({key:t,week:r,day:"-",afternoon:a[e][1],buy:n}):l.push({key:t,week:r,day:"-",afternoon:"-",buy:n})})),m(l),E(!1)}),[a,t,c]);return n.a.createElement(M.a,{size:"small",loading:y,bordered:!0,tableLayout:"auto",pagination:!1,columns:[{title:"Week",dataIndex:"week",key:"week"},{title:"Day",dataIndex:"day",key:"day"},{title:"Afternoon",dataIndex:"afternoon",key:"afternoon"},{title:"Buy",dataIndex:"buy",key:"buy"}],dataSource:u})}))),k=(t(607),Object(i.b)((function(e){return{dateFilter:e.dateFilter}}),(function(e){return{dispatch:e}}))((function(e){var a=e.dateFilter,t=e.dispatch;return n.a.createElement(f.a,{onChange:function(e){var a=e.startOf("week").format("YYYY-MM-DD");t({type:"SET_DATE_FILTER",payload:{date:a}})},defaultValue:d()(a,"YYYY-MM-DD"),picker:"week",allowClear:!1})}))),S=t(644),v=t(645),I=t(648),j=t(650),w=t(653),C=t(652),P=(t(608),Object(i.b)((function(e){return{dispatch:e}}))((function(e){var a=e.dispatch,t=Object(r.useState)(!1),c=Object(o.a)(t,2),l=c[0],i=c[1],u=Object(r.useState)(""),m=Object(o.a)(u,2),d=m[0],s=m[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Y.a.Group,null,n.a.createElement(Y.a,{type:"link",onClick:function(){var e=JSON.stringify(localStorage.getItem("priceChart")),a=JSON.stringify(localStorage.getItem("buyPrice")),t=JSON.stringify(localStorage.getItem("randid")),r=JSON.stringify([e,a,t]);S.a.success({title:"Success! Copy the code below to someplace safe",content:n.a.createElement(v.a.Paragraph,{copyable:!0},btoa(r).toString())})}},n.a.createElement(w.a,null),"Save"),n.a.createElement(Y.a,{type:"link",onClick:function(){return i(!0)}},"Load",n.a.createElement(C.a,null))),n.a.createElement(S.a,{title:"Load State",visible:l,onOk:function(){var e=JSON.parse(atob(d)),t=JSON.parse(e[0]),r=JSON.parse(e[1]),n=JSON.parse(e[2]);localStorage.setItem("priceChart",t),localStorage.setItem("buyPrice",r),localStorage.setItem("randid",n),a({type:"LOAD_STATE",payload:{priceChart:JSON.parse(t),buyPrice:JSON.parse(r)}}),i(!1),I.a.success("Load state successful!")},onCancel:function(){return i(!1)}},n.a.createElement(v.a.Text,null,"Copy the code you saved here"),n.a.createElement("br",null),n.a.createElement(j.a.TextArea,{autoSize:{minRows:4},onChange:function(e){return s(e.target.value)}})))}))),A=(t(630),Object(i.b)((function(e){return{transaction:e.transaction}}))((function(e){var a=e.transaction,t=Object(r.useState)([]),c=Object(o.a)(t,2),l=c[0],i=c[1];return Object(r.useEffect)((function(){for(var e=[],t=0;t<28;t++)e.push(d()().startOf("week").add(-21,"day").add(t,"day").format("YYYY-MM-DD"));var r=[],n=0;e.forEach((function(e,t){e in a&&a[e].forEach((function(e){n+=e[0]*(e[2]-e[1])})),(t+1)%7===0&&(r.push({date:d()(e,"YYYY-MM-DD").startOf("week").format("MM-DD")+" to "+d()(e,"YYYY-MM-DD").startOf("week").add(6,"day").format("MM-DD"),sum:n}),n=0)})),i(r)}),[a]),n.a.createElement(u.h,{minWidth:375,minHeight:200},n.a.createElement(u.b,{width:500,height:300,data:l,margin:{top:5,right:30,left:20,bottom:5}},n.a.createElement(u.c,{strokeDasharray:"3 3"}),n.a.createElement(u.j,{dataKey:"date"}),n.a.createElement(u.k,{domain:[function(e){return Math.round(1.1*e)},function(e){return Math.round(1.1*e)}]}),n.a.createElement(u.i,null),n.a.createElement(u.g,{y:0,stroke:"#000"}),n.a.createElement(u.a,{dataKey:"sum"},l.map((function(e,a){return n.a.createElement(u.d,{key:a,fill:e.sum>=0?"#2ed573":"#ff4757"})})))))}))),T=t(651),N=t(205),F=t(654),J=(t(631),t(632),Object(i.b)((function(e){return{priceChart:e.priceChart}}),(function(e){return{dispatch:e}}))((function(e){var a=e.dispatch,t=p.a.useForm(),r=Object(o.a)(t,1)[0];return n.a.createElement(p.a,{from:r,name:"transaction-form",onFinish:function(e){var t=e["date-picker"].format("YYYY-MM-DD"),r=e.quantity,n=e["buy-price"],c=e["sell-price"];a({type:"ADD_TRANSACTION",payload:{date:t,quantity:r,buyPrice:n,sellPrice:c}})}},n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"date-picker",rule:[{required:!0}]},n.a.createElement(f.a,{style:{width:"100%"}})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"quantity",rule:[{required:!0}]},n.a.createElement(b.a,{placeholder:"Quantity of turnip sold",min:0})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"buy-price",rule:[{required:!0}]},n.a.createElement(b.a,{placeholder:"Buying price per turnip",min:0})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,{name:"sell-price",rule:[{required:!0}]},n.a.createElement(b.a,{placeholder:"Selling price per turnip",min:0})))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(p.a.Item,null,n.a.createElement(Y.a,{block:!0,type:"primary",htmlType:"submit"},"Add")))))}))),_=function(){var e=Object(r.useState)(!1),a=Object(o.a)(e,2),t=a[0],c=a[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Y.a,{type:"primary",onClick:function(){return c(!0)}},n.a.createElement(F.a,null),"Add Item"),n.a.createElement(S.a,{closable:!0,title:"Add Item",visible:t,onCancel:function(){return c(!1)},footer:null},n.a.createElement(T.a,{bodyStyle:{padding:"0px"},bordered:!1},n.a.createElement(N.a,{defaultActiveKey:"1"},n.a.createElement(N.a.TabPane,{tab:"Add Selling Price",key:"1"},n.a.createElement(D,null)),n.a.createElement(N.a.TabPane,{tab:"Add Buying Price",key:"2"},n.a.createElement(g,null)),n.a.createElement(N.a.TabPane,{tab:"Add Transaction",key:"3"},n.a.createElement(J,null))))))},q=t(647),x=(t(635),function(){return n.a.createElement("div",{className:"body"},n.a.createElement(y.a,null,n.a.createElement(q.a,{title:"Turnip Stalk Market"})),n.a.createElement(y.a,{align:"middle",justify:"end"},n.a.createElement(E.a,null,n.a.createElement(T.a,{bordered:!1},n.a.createElement(_,null))),n.a.createElement(E.a,null,n.a.createElement(T.a,{bordered:!1},n.a.createElement(P,null))),n.a.createElement(E.a,null,n.a.createElement(T.a,{bordered:!1},n.a.createElement(v.a.Text,null,"Date Filter: "),n.a.createElement(k,null)))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(T.a,{bordered:!1},n.a.createElement(s,null)))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(T.a,{bordered:!1},n.a.createElement(O,null)))),n.a.createElement(y.a,null,n.a.createElement(E.a,{span:24},n.a.createElement(T.a,{bordered:!1,title:"Profit/Loss"},n.a.createElement(A,null)))))}),L=t(137),R={priceChart:localStorage.getItem("priceChart")?JSON.parse(localStorage.getItem("priceChart")):{},buyPrice:localStorage.getItem("buyPrice")?JSON.parse(localStorage.getItem("buyPrice")):{},dateFilter:d()().startOf("week").format("YYYY-MM-DD"),transaction:localStorage.getItem("transaction")?JSON.parse(localStorage.getItem("transaction")):{}},B=Object(L.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;if("ADD_PRICE"===a.type){var t=Object.assign({},e.priceChart);return a.payload.date in e.priceChart||(t[a.payload.date]=[]),"morning"===a.payload.dayNoon?t[a.payload.date][0]=a.payload.price:"afternoon"===a.payload.dayNoon&&(t[a.payload.date][1]=a.payload.price),localStorage.setItem("priceChart",JSON.stringify(t)),Object.assign({},e,{priceChart:t})}if("ADD_BUY_PRICE"===a.type){var r=Object.assign({},e.buyPrice);return r[a.payload.date]=a.payload.buyingPrice,localStorage.setItem("buyPrice",JSON.stringify(r)),Object.assign({},e,{buyPrice:r})}if("SET_DATE_FILTER"===a.type)return Object.assign({},e,{dateFilter:a.payload.date});if("LOAD_STATE"===a.type)return Object.assign({},e,a.payload);if("ADD_TRANSACTION"===a.type){var n=Object.assign({},e.transaction);return a.payload.date in e.transaction||(n[a.payload.date]=[]),n[a.payload.date].push([a.payload.quantity,a.payload.buyPrice,a.payload.sellPrice]),localStorage.setItem("transaction",JSON.stringify(n)),Object.assign({},e,{transaction:n})}return e})),W=function(){return n.a.createElement(i.a,{store:B},n.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[332,1,2]]]);
//# sourceMappingURL=main.2d1d89f5.chunk.js.map